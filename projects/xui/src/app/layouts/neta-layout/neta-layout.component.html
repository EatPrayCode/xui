<div [class]="'theme-wrapper ' + (theme$ | async)">

    <mat-sidenav-container>

        <mat-sidenav #sidenav mode="push">
            <div class="branding">
                <img height="48px" width="48px" [src]="logo" [alt]="logo" />
                <span>{{ 'app.title.short' | translate}}</span>
            </div>
            <mat-nav-list>
                <a mat-list-item *ngFor="let item of navigationSideMenu" (click)="sidenav.close()"
                    [routerLink]="[item.link]" routerLinkActive="active">
                    {{item.label | translate}}
                </a>
            </mat-nav-list>
        </mat-sidenav>

        <div class="wrapper">

            <div class="toolbar" [style.position]="(stickyHeader$ | async) ? 'fixed' : 'inherit'"
                [class.mat-elevation-z4]="(stickyHeader$ | async)">

                <mat-toolbar color="primary">
                    <button mat-icon-button class="d-md-none" (click)="sidenav.open()">
                        <fa-icon icon="bars"></fa-icon>
                    </button>
                    <span routerLink="" class="branding spacer d-sm-inline">
                        <img [src]="logo" [alt]="logo" />

                        <span class="d-none d-md-inline d-xl-none d-xxl-none">
                            {{ 'app.title.short' | translate }}
                        </span>

                    </span>

                    <!-- <span routerLink="" class="branding spacer d-none d-md-inline">
                        <img [src]="logo" [alt]="logo" /> {{'app.title.long' | translate }}
                    </span> -->
                    <span class="d-none d-md-inline">
                        <button mat-button class="nav-button" *ngFor="let item of navigation" [routerLink]="[item.link]"
                            routerLinkActive="active">
                            {{item.label | translate}}
                        </button>
                    </span>

                    <span *ngIf="language$ | async as language">
                        <mat-select [ngModel]="language" (selectionChange)="onLanguageSelect($event)">
                            <mat-option *ngFor="let l of languages" [value]="l.value">
                                {{ l.label.toUpperCase() }}
                            </mat-option>
                        </mat-select>
                    </span>

                    <!-- <ng-container *ngIf="user$ | async as user">

                        <span>
                            <app-cart-icon></app-cart-icon>
                        </span>

                        <button mat-button mat-stroked-button color="accent" *ngIf="!user?.uid"
                            (click)="openLoginDialog()">
                            {{ 'app.menu.login' | translate }}
                        </button>

                        <button class="" *ngIf="user?.uid" mat-icon-button [matMenuTriggerFor]="toolbarUserMenu">
                            <fa-icon icon="user-circle"></fa-icon>
                        </button>

                        <mat-menu #toolbarUserMenu="matMenu">
                            <button mat-menu-item (click)="onLogoutClick()">
                                <span *ngIf="!user?.isAnonymous"> User</span>
                                <span *ngIf="user?.isAnonymous">Guest</span>
                                <mat-icon>
                                    <fa-icon icon="power-off"></fa-icon>
                                </mat-icon>
                                <span>{{ 'app.menu.logout' | translate }}</span>
                            </button>
                        </mat-menu>


                    </ng-container> -->

                </mat-toolbar>

                <mat-progress-bar [mode]="loaderMode" value="100"></mat-progress-bar>

            </div>

            <div class="content" [@routeAnimations]="o.isActivated && o.activatedRoute.routeConfig?.data?.title">
                <router-outlet #o="outlet">
                </router-outlet>
            </div>

        </div>
    </mat-sidenav-container>


</div>